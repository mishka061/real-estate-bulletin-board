(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var l=n.getElementsByTagName("script");if(l.length)for(var o=l.length-1;o>-1&&!t;)t=l[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p;document.addEventListener("DOMContentLoaded",(function(){let e=document.getElementById("filePhoto"),t=document.getElementById("photoContainer"),n=document.querySelector(".titlePhoto"),l=document.getElementById("fileInput"),o=document.getElementById("photoLabelConteiner"),s=document.querySelector(".fileInputLabel");e.addEventListener("change",(function(e){let l=e.target.files;for(let e of l){let l=new FileReader;n.style.display="none",l.onload=function(e){let n=document.createElement("img"),l=document.createElement("div");l.classList.add("opasityDivImg"),n.src=e.target.result,l.appendChild(n);let o=document.createElement("div");o.classList.add("delete-icon"),o.innerText="x",l.appendChild(o),t.appendChild(l)},l.readAsDataURL(e)}})),t.addEventListener("click",(function(e){if(e.target.classList.contains("delete-icon")){e.target.closest(".opasityDivImg").remove(),0===t.children.length&&(n.style.display="block")}})),l.addEventListener("change",(function(e){let t=e.target.files;for(let e of t){let t=new FileReader;s.style.display="none",t.onload=function(e){let t=document.createElement("img"),n=document.createElement("div");n.classList.add("opasityDivImg"),t.src=e.target.result,n.appendChild(t);let l=document.createElement("div");l.classList.add("delete-icon"),l.innerText="x",n.appendChild(l),o.appendChild(n)},t.readAsDataURL(e)}})),o.addEventListener("click",(function(e){if(e.target.classList.contains("delete-icon")){e.target.closest(".opasityDivImg").remove(),0===o.children.length&&(s.style.display="block")}}))}));let t=document.querySelector(".buy-apartament-info-house"),n=document.querySelector(".rent-apartament-info-house"),l=document.querySelector(".rent-apartament-info-apartaments"),o=document.querySelector(".buy-amenitiesAndDetails"),s=document.querySelector(".rent-amenitiesAndDetails"),c=document.querySelector(".rentDom"),d=document.querySelector(".buy-apartament-info-apartament"),i=document.querySelector(".dom-amenitiesAndDetails"),a=document.querySelector(".infoRoomsHouse"),y=document.querySelector("#radioAnnouncement1"),p=document.querySelector("#radioAnnouncement2"),r=document.querySelector("#radioAnnouncement3"),u=document.querySelector("#radioAnnouncement4"),m=document.querySelector("#radioAnnouncement5"),g=document.querySelector("#radioAnnouncement6"),v=document.querySelector(".commission"),f=document.querySelector(".sale-price"),k=document.querySelector(".price-daily-rental"),b=document.querySelector(".price-monthly-rental"),E=document.querySelector(".roomsInDeal");document.querySelector("#houseCountRoom");y.addEventListener("change",(function(){console.log("нажата кнопка 1"),y.checked&&(u.addEventListener("change",(function(){console.log("нажата кнопка 4"),u.checked&&(t.style.display="block",n.style.display="block",a.style.display="block",l.style.display="block",d.style.display="block",o.style.display="block",i.style.display="none",c.style.display="none",s.style.display="none",f.style.display="block",k.style.display="none",b.style.display="none",E.style.display="none",v.style.display="none")})),m.addEventListener("change",(function(){console.log("нажата кнопка 5"),m.checked&&(t.style.display="block",n.style.display="block",a.style.display="block",l.style.display="block",d.style.display="block",o.style.display="block",i.style.display="none",c.style.display="none",s.style.display="none",f.style.display="block",k.style.display="none",b.style.display="none",E.style.display="none",v.style.display="none")})),g.addEventListener("change",(function(){console.log("нажата кнопка 6"),g.checked&&(c.style.display="block",i.style.display="block",a.style.display="none",n.style.display="none",t.style.display="none",s.style.display="none",o.style.display="none",d.style.display="none",f.style.display="block",k.style.display="none",b.style.display="none",l.style.display="none",v.style.display="none")})))})),p.addEventListener("change",(function(){console.log("нажата кнопка 2"),p&&(u.addEventListener("change",(function(){u.checked&&(console.log("нажата кнопка 4"),a.style.display="block",n.style.display="block",l.style.display="block",s.style.display="block",i.style.display="none",c.style.display="none",t.style.display="none",d.style.display="none",o.style.display="none",f.style.display="none",k.style.display="none",b.style.display="block",v.style.display="block")})),m.addEventListener("change",(function(){console.log("нажата кнопка 5"),m.checked&&(n.style.display="block",l.style.display="block",s.style.display="block",i.style.display="none",c.style.display="none",t.style.display="none",d.style.display="none",o.style.display="none",f.style.display="none",k.style.display="none",b.style.display="block",E.style.display="block",a.style.display="none",v.style.display="block")})),g.addEventListener("change",(function(){console.log("нажата кнопка 6"),g.checked&&(i.style.display="block",c.style.display="block",a.style.display="none",n.style.display="none",l.style.display="none",s.style.display="none",t.style.display="none",d.style.display="none",o.style.display="none",f.style.display="none",k.style.display="none",b.style.display="block",v.style.display="block")})))})),r.addEventListener("change",(function(){console.log("нажата кнопка 3"),r.checked&&(u.addEventListener("change",(function(){console.log("нажата кнопка 4"),u.checked&&(a.style.display="block",n.style.display="block",l.style.display="block",s.style.display="block",i.style.display="none",c.style.display="none",t.style.display="none",d.style.display="none",o.style.display="none",f.style.display="none",k.style.display="block",b.style.display="none",v.style.display="block")})),m.addEventListener("change",(function(){console.log("нажата кнопка 5"),m.checked&&(n.style.display="block",l.style.display="block",s.style.display="block",i.style.display="none",c.style.display="none",t.style.display="none",d.style.display="none",o.style.display="none",f.style.display="none",k.style.display="block",b.style.display="none",E.style.display="block",a.style.display="none",v.style.display="block")})),g.addEventListener("change",(function(){g.checked&&(console.log("нажата кнопка 6"),i.style.display="block",c.style.display="block",a.style.display="none",n.style.display="none",l.style.display="none",s.style.display="none",t.style.display="none",d.style.display="none",o.style.display="none",f.style.display="none",k.style.display="block",b.style.display="none",v.style.display="block")})))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".channelImg").addEventListener("click",(function(){window.location.href="/messenger"}))})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll(".dealNumber"),t=document.querySelector("#roomsInDeal5"),n=document.querySelector("#roomsInDeal6"),l=document.querySelector("#roomsInDeal7");for(let o=0;o<e.length;o++)e[o].addEventListener("click",(function(){console.log(e[o]),0==o?(console.log(e[o]),console.log("yes"),t.style.display="block",n.style.display="none",l.style.display="none"):1==o?(t.style.display="block",n.style.display="block",l.style.display="none"):2==o&&(t.style.display="block",n.style.display="block",l.style.display="block")}))})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll(".apartments-type"),t=document.querySelector("#numberOfRooms1"),n=document.querySelector("#numberOfRooms2"),l=document.querySelector("#numberOfRooms3"),o=document.querySelector("#numberOfRooms4"),s=document.querySelector(".studia");for(let c=0;c<e.length;c++)e[c].addEventListener("click",(function(){console.log(".apartments-type"),0==c?(t.style.display="block",n.style.display="none",l.style.display="none",o.style.display="none"):1==c?(t.style.display="block",n.style.display="block",l.style.display="none",o.style.display="none"):2==c?(t.style.display="block",n.style.display="block",l.style.display="block",o.style.display="none"):3==c&&(t.style.display="block",n.style.display="block",l.style.display="block",o.style.display="block")})),s.addEventListener("click",(function(){t.style.display="none",n.style.display="none",l.style.display="none",o.style.display="none"}))})),document.addEventListener("DOMContentLoaded",(function(){console.log("editInputPrice");let e=document.querySelector(".editInputPrice"),t=document.querySelector(".btnXEdit"),n=document.querySelector(".commissionEditInput"),l=document.querySelector(".depositEditInput"),o=document.querySelector(".btnDepositEdit0"),s=document.querySelector(".btnDepositEdit50"),c=document.querySelector(".btnDepositEdit100"),d=document.querySelector(".btnComissionEdit0"),i=document.querySelector(".btnComissionEdit50"),a=document.querySelector(".btnComissionEdit100");e.addEventListener("input",(function(){let t=e.value.replace(/\D/g,"");e.value=t.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")})),t.addEventListener("click",(function(t){t.preventDefault(),e.value="",n.value="",l.value=""})),d.addEventListener("click",(function(e){e.preventDefault(),n.value=0})),i.addEventListener("click",(function(t){t.preventDefault();let l=e.value.replace(/\s/g,""),o=Math.ceil(l/2),s=String(o);n.value=s.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")})),a.addEventListener("click",(function(t){t.preventDefault();let l=e.value.replace(/\s/g,"");n.value=l.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")})),o.addEventListener("click",(function(e){e.preventDefault(),l.value=0})),s.addEventListener("click",(function(t){t.preventDefault();let n=e.value.replace(/\s/g,""),o=Math.ceil(n/2),s=String(o);l.value=s.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")})),c.addEventListener("click",(function(t){t.preventDefault();let n=e.value.replace(/\s/g,"");l.value=n.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".exitToken").addEventListener("click",(function(e){e.preventDefault(),console.log("exitToken click"),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href="/"}))})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector(".personalAccount"),t=document.querySelector(".centerContent");e.addEventListener("click",(function(){t.style.display="block"})),t.addEventListener("click",(function(){t.style.display="none"}))})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector(".searchPriceMin"),t=document.querySelector(".searchPriceMax");function n(e){return e.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}e.addEventListener("input",(function(){let t=e.value.replace(/\D/g,"");e.value=n(t)})),t.addEventListener("input",(function(){let e=t.value.replace(/\D/g,"");t.value=n(e)}))})),ymaps.ready((function(){let e=new ymaps.Map("map",{center:[55.76,37.64],zoom:10,controls:[]}),t=new ymaps.control.SearchControl({options:{provider:"yandex#search"}});e.controls.add(t);let n=new ymaps.Placemark([55.76,37.64],{balloonContent:"Столица России"},{draggable:!0});n.events.add("click",(function(t){let n=t.get("target"),l=n.geometry.getCoordinates();ymaps.geocode(l).then((function(t){let o=t.geoObjects.get(0).getAddressLine();n.properties.set({balloonContent:o}),e.balloon.open(l,{contentHeader:o})}))})),e.geoObjects.add(n);let l=document.getElementById("address");t.events.add("resultselect",(function(e){let n=t.getResultsArray()[e.get("index")].geometry.getCoordinates();ymaps.geocode(n).then((function(e){let t=e.geoObjects.get(0).getAddressLine();l.value=t}))}))})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector(".writeToSeller"),t=document.querySelector(".divWriteSeller"),n=document.querySelectorAll(".contentMessages");for(let e=0;e<n.length;e++)n[e].addEventListener("click",(function(){console.log("click");let e=encodeURIComponent(this.getAttribute("data-id").trim());window.location.href="/messenger/channel/"+e}));e.addEventListener("click",(function(n){n.preventDefault(),t.style.display="block",e.style.display="none"}))}));let h=document.querySelector(".pagination"),L=document.querySelectorAll(".apartmentsConteiners"),S=10,q=1;function D(e){let t=document.createElement("button");t.classList.add("page-link"),t.textContent=e,t.addEventListener("click",(function(){q=e,C()})),h.appendChild(t)}function C(){for(let e=0;e<L.length;e++)L[e].style.display=e<(q-1)*S||e>=q*S?"none":"block"}for(let e=0;e<L.length;e++)e%S==0&&D(e/S+1);C(),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector(".textareaDetailsPrice"),t=document.querySelector(".btnX"),n=document.querySelector(".inputCommission"),l=document.querySelector(".inputDeposit"),o=document.querySelector(".Without-collateral"),s=document.querySelector(".Deposit50"),c=document.querySelector(".Deposit100"),d=document.querySelector(".Agent-commission1"),i=document.querySelector(".Agent-commission2"),a=document.querySelector(".Agent-commission3");e.addEventListener("input",(function(){let t=e.value.replace(/\D/g,"");e.value=t.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")})),t.addEventListener("click",(function(t){t.preventDefault(),e.value="",n.value="",l.value=""})),d.addEventListener("click",(function(e){e.preventDefault(),n.value=0})),i.addEventListener("click",(function(t){t.preventDefault();let l=e.value.replace(/\s/g,""),o=Math.ceil(l/2),s=String(o);n.value=s.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")})),a.addEventListener("click",(function(t){t.preventDefault();let l=e.value.replace(/\s/g,"");n.value=l.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")})),o.addEventListener("click",(function(e){e.preventDefault(),l.value=0})),s.addEventListener("click",(function(t){t.preventDefault();let n=e.value.replace(/\s/g,""),o=Math.ceil(n/2),s=String(o);l.value=s.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")})),c.addEventListener("click",(function(t){t.preventDefault();let n=e.value.replace(/\s/g,"");l.value=n.replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}))}));let I=document.getElementById("passwordInput"),w=document.getElementById("confirmPasswordInput"),$=document.getElementById("confirmPasswordError"),A=document.getElementById("emailInput"),M=document.getElementById("loginInput");w.addEventListener("input",(function(){let e=I.value,t=w.value;$.style.display=e===t||""===t?"none":"block"})),A.addEventListener("input",(async function(){let e=A.value;try{await fetch(`/check-email?email=${e}`)}catch(e){console.error(e)}})),M.addEventListener("input",(async function(){let e=M.value;try{await fetch(`/check-login?login=${e}`)}catch(e){console.error(e)}}));let O=document.getElementById("passwordCheckbox1");O.addEventListener("change",(function(){B("passwordInput",O)}));let x=document.getElementById("passwordCheckbox2");function B(e,t){document.getElementById(e).type=t.checked?"text":"password"}x.addEventListener("change",(function(){B("confirmPasswordInput",x)}))})();